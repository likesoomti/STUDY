# chap02 안드로이드 프로젝트 이해



## 안드로이드 앱 개발 특징

1. 안드로이드의 특징

- 리눅스 기반

- 자바 / 코틀린 

- 대부분의 코드가 오픈소스

- 다양한 방법으로 사용자에게 배포할 수 있다. 

- 단점 : 파편화

  스마트폰 제조사가 안드로이드를 약간 커스텀하여 탑재시, 내가 만든 코드가 안돌아갈 수 있다. 

- 특징 - 멀티태스킹

  여러 프로세스를 사용한다 (ios 는 불가)



## 안드로이드 플랫폼 아키텍쳐

여러 레이어로 구성된다. 

1. 리눅스 커널 기반

2. HAL

   자바 API 프레임워크에 하드웨어 기능을 이용하는 표준 인터페이스를 제공한다. 

3. 안드로이드 런 타임 

   ART 가상 머신을 이용하여, API 프레임워크에서 제공하는 다양한 클래스를 이용해 앱을 개발한다.

   달빅을 대체하고 ART 를 사용하여 자바 언어를 컴파일한다. 

4. 애플리케이션 프레임워크

   안드로이드 개발을 할때 개발자들이 사용하는 표준 라이브러리. 



## 컴포넌트 기반 개발

##### 컴포넌트

앱의 구성단위. 

여러 컴포넌트를 조합해 하나의 앱을 완성한다. 

앱의 `.class` 는 컴포넌트와 일반 클래스로 나뉜다. 

안드로이드 컴포넌트는 안드로이드 시스템이 생성하여 관리하다 소멸한다. 

일반 클래스는 개발자 코드에서 직접 생명주기를 관리한다.

##### 컴포넌트는 앱 내에서 독립적인 실행 단위이다.

컴포넌트 클래스는 독립적인 수행 단위로 동작한다. 

아키텍쳐의 `느슨한 결합` 도를 나타낸다. 

```java
// 일반 
class A {
    main(){
        B b1 = new B(); // A 클래스는 B 클래스에 직접 결합 되어:ㅆ다. 
    }
}

// 안드로이드 컴포넌트 인 경우 직접 실행 불가능하고.
// intent 라는 매개를 통해 독립적으로 실행한다. 
```

##### main 함수 같은 애플리케이션 진입 지점이 없다.

컴포넌트 클래스들은 모두 프로세스가 구동될 시 최초로 실행되는 수행 시점이 될 수 있다. 

안드로이드는 아이콘 버튼을 눌렀을때만 실행되는게 아니라, 다르게 실행될 수 있다. 

ex) 인스타그램 누가 좋아요 누를시 알림 뜨는것 처럼 , 메세지 수신시 수신 컴포넌트가 실행된다. 

따라서 앱 수행 시점은 다양하고, 독립적으로 구성된다.

##### 애플리케이션 라이브러리 개념이 있다. 

카톡에서 사진을 보낼시, 갤러리가 연동되어서 갤러리 앱을 실행해 사진을 꺼내온다. 

이게 가능한 이유는 안드로이드는 컴포넌트 기반이기 때문에, 두 클래스가 직접 결합되지 않아도, 외부 앱에서 프로세스를 실행 해 연동이 가능하다.



## 안드로이드 컴포넌트 종류

- 액티비티

  사용자 화면을 제공한다. 

- 서비스

  화면 없이, 백그라운드에서 무언가 수행하는 공간이다. ex) 채팅

- 콘텐츠 프로바이더

  앱 간의 데이터 공유 목적 컴포넌트. 카톡 사진, 전화 주소록 등 

- 브로드캐스트 리시버 

  이벤트 모델로 수행. sms 문자가 온경우 필요한 어플에 알아서 전달해준다.

